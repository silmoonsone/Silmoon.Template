@{
    ViewData["Title"] = "SignalR";
}

<h1>SignalR</h1>

<script src="~/lib/microsoft/signalr/dist/browser/signalr.js"></script>
<script>
    var connection = new signalR.HubConnectionBuilder().withUrl("/hubs/DemoHub").build();

    connection.on("time", function (text) {
        console.log("time: " + text);
    });

    connection.start().then(function () {
        console.log("connected");
        connection.invoke("send", "hello").catch(function (err) {
            return console.error(err.toString());
        });
    }).catch(function (err) {
        return console.error(err.toString());
    });

</script>